<!DOCTYPE html>
<html>
<head>
  <title>YouTube Tag Extractor</title>
</head>
<body style="font-family:Arial;padding:20px">

<h2>YouTube Tag Extractor</h2>

<p>Paste YouTube Video URL:</p>

<input id="videoUrl" style="width:100%;padding:10px">

<button onclick="extractTags()" style="margin-top:10px;padding:10px">
Extract Tags
</button>

<textarea id="result" style="width:100%;height:150px;margin-top:10px"
placeholder="Tags will appear here..."></textarea>

<script>
async function extractTags(){
  let url = document.getElementById("videoUrl").value;

  let idMatch = url.match(/(?:youtu\.be\/|v=)([a-zA-Z0-9_-]{11})/);
  if(!idMatch){
    alert("Invalid URL");
    return;
  }

  let videoId = idMatch[1];

  let res = await fetch("/api/tags?videoId=" + videoId);
  let data = await res.json();

  if(data.error){
  document.getElementById("result").value = data.error;
  return;
  }

  document.getElementById("result").value =
  "Generated Tags:\n\n" +
  data.tags.join(", ");
}
</script>

</body>
</html>
